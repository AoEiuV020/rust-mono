# Rust Mono 构建产物对比

## 文件大小对比

### 静态链接版本
| 文件 | 大小 |
|------|------|
| static-app | 530K (542,688 bytes) |
| **总计** | **530K (542,688 bytes)** |

### 动态链接版本
| 文件 | 大小 |
|------|------|
| dynamic-app | 440K (450,424 bytes) |
| libcommon.dylib | 491K (502,992 bytes) |
| libmathlib.dylib | 509K (521,712 bytes) |
| libstringlib.dylib | 512K (524,064 bytes) |
| **总计** | **1.9M (1,999,192 bytes)** |

## 差异分析
- 动态链接版本比静态链接版本大 **1,456,504 bytes** (72.85%)
- 静态链接：单个可执行文件
- 动态链接：1个可执行文件 + 3个动态库

## 结论

在 Rust 项目中，静态链接显著优于动态链接：

1. **体积优势**：静态链接版本仅占动态链接版本的 27% 大小
2. **部署简单**：单个可执行文件，无需管理动态库
3. **性能优势**：无运行时动态加载开销
4. **优化效果**：Rust 编译器能更好地对静态链接进行全局优化和死代码消除

### 与 Go 版本对比

Go 版本测试结果：
- 静态链接：2.3M
- 动态链接：7.4M (动态链接大 215%)

Rust 版本测试结果：
- 静态链接：530K (比 Go 小 77%)
- 动态链接：1.9M (比 Go 小 74%)

Rust 在两种链接方式下都比 Go 显著更小，主要原因：
1. Rust 没有运行时和垃圾回收器
2. 更激进的编译优化
3. 更好的死代码消除
